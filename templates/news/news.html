{% extends 'news/base.html' %}
{% load staticfiles %}

{% block title %}{{news.title}}{% endblock %}

{% block side_block %}

<span>热门点击</span>
<ul class="nav nav-sidebar">
	{% if hot_news %}
	{% for h in hot_news %}
	<li><a href="{% url 'news:news' %}?id={{h.id}}">{{ h.title }}<span class="badge" style="float: right;">{{h.views}}次</span></a></li>
	{% endfor %}
	<li><a href="#">更多...</a></li>
	{% else %}
	<li> <strong >没有相关新闻.</strong></li>
	{% endif %}
</ul>

<span>热门评论</span>
<ul class="nav nav-sidebar">
	{% if favorite_news %}
	{% for f in favorite_news %}
	<li><a href="{% url 'news:news' %}?id={{f.id}}">{{ f.title }}<span  class="badge" style="float: right;">{{f.comments}}次</span></a></li>
	{% endfor %}
	<li><a href="#">更多...</a></li>
	{% else %}
	<li> <strong >没有相关新闻.</strong></li>
	{% endif %}
</ul>

{% endblock %}


{% block body_block %}

<div class="col-md-12">
	{% if news %}

	<div id="news-container" class="col-md-8" style="border: thin solid rgba(0,0,0,0.2);padding:1%">
		<div class="col-md-12" style="float:left;margin-left:0px;">
			<h2 style="margin-top:0px;text-align: center">{{news.title}}</h2>
			<hr />
			<p style="text-indent: 0em;text-align: center;"><span>时间:{{news.pub_date}}</span><span style="margin-left:10px">来源:{{news.source}}</span><span style="margin-left:10px">作者:{{news.author}}</span></p>
			<div class="col-md-12" id="news-content">
				{{news.content|safe}}
			</div>
		</div>
	</div>

	<div id="relative-news-container" class="col-md-3" style="text-align:center;float:right;border: thin solid rgba(0,0,0,0.2);padding:1%">

		<span>猜你喜欢</span>
		{% if guess_you_like %}
		<div id="carousel-example-generic" class="carousel slide" data-ride="carousel" >
			<div class="carousel-inner" role="listbox">
				{% for news in guess_you_like %}
				{% ifequal forloop.counter 1 %}
				<div class="item active">
				{% else %}
				<div class="item">
				{% endifequal %}
				<a href="{% url 'news:news' %}?id={{news.id}}">
					<img style="width:320px;height:180px;" src="/{{news.picture}}" alt="{{news.title}}">

					<span style="text-align: left;" href="{% url 'news:news' %}?id={{news.id}}">{{news.title}}</span>
					</a>
				</div>
				{% endfor %}
			</div>
		</div>
		{% else %}
		<br />
		<strong >没有相关新闻.</strong>
		{% endif %}
		<hr />
		<span>同类新闻</span>
		{% if relative_news %}
		<div class="col-md-12" style="text-align: left;">
		<ul class="nav nav-sidebar">
			{% for r in relative_news %}
			<li><a href="{% url 'news:news' %}?id={{r.id}}">{{ r.title }}</a></li>
			{% endfor %}
			<li><a href="#">更多...</a></li>
			</ul>
		{% else %}
		<br />
		<strong>没有相关新闻.</strong>
		{% endif %}
		
		</div>
	</div>
	{% else %}
	<h1>404错误,请返回首页!</h1>
	{% endif %}
</div>
<div class="btn-group" role="group" aria-label="..." style="position: fixed;bottom:50px;right:50px">
	<a class="btn btn-default btn-info" href="#body"><span class="glyphicon glyphicon-arrow-up"></span> 返回顶部</a>
</div>

{% endblock %}